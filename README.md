<h1>Weather bot + API</h1>

Для начала - инструкции по запуску. Ниже хочу рассказать про интересные технические моменты проекта.

<h2>Start it!</h2>

Тут все просто: 
1. <code>git clone <link-to-repo></code>
2. <code>cd</code> в папку проекта
3. <code>pip install -r requirements.txt</code>
4. создать файл <code>.env</code> и заполнить его своими данными примерно так же, как указано в примере (файл <code>.env.example</code>). перед этим, конечно, нужно получить апи ключ яндекса (момент про него - ниже) и токен бота.
   ссылку на апи можно оставить на локалхосте, так как в докер ничего не завернуто
5. <code>python manage.py runserver</code>
6. <code>python bot.py</code>
7. готово! вы восхитительны!

<h2>Interesting moments</h2>

<h3>Про определение координат города</h3>

Для определения координат я решила использовать библиотеку geopy. Ну просто чтоб не сходить с ума со списком городов с координатами.

Благодаря этому, функционал приложениня расширился - теперь можно смотреть погоду не только в городах России, но и по всему миру. Такого не было в заданиях, но мне показалось прикольным. 

Эта библиотека позволяет получать lat и lon населенного пункта по названию. Однако, занявшись тестированием, я обнаружила еще один интересный момент, расширяющий функционал приложения. О нем ниже.

<h3>Про языки</h3>

В общем, geopy воспринимает не только русский язык, но и почти любой другой, а также - написание русских названий английскими буквами (например, Moskva). 

Задание этого не подразумевало, но я подумала, что это прикольная фича, которую можно оставить. И оставила. 

Также, вся информация в апи выводится на английском, а в боте - на русском. У этого тоже есть смысл.

Апи на английском - потому что я, как разработчик, не знаю наверняка, кому понадобится использовать мое приложение. Поскольку нацелено оно не на простых пользователей, а на людей, как минимум разбирающихся, что такое джейсон -
весь интерфейс на языке, который должен знать каждый разработчик. 

Бот же нацелен на более узкую аудиторию людей, несведущих в программировании, поэтому он адаптирован под российскую ца. Ну просто потому что почему бы и нет. 

<h3>Про кэширование</h3>

Есть много инструментов для работы с кэшем, но я посмотрела на масштаб проекта - и решила, что лучшим вариантом будет использовать встроенное кэширование джанго. 

Это не самая хорошая практика, но я не вижу много смысла тратить на настройку кэширования больше времени, чем на написание основного кода. Просто объясняю, почему так, а не иначе.

<h3>Про апи ключ яндекса</h3>

На моменте получения ключа у меня случилось помутнение сознания, и я зачем-то выбрала тестовый тариф вместо бесплатного. 

Впрочем, это легко исправляется. 

Вщ views.py есть вот такая строчка: 

<code>url = (f'https://api.weather.yandex.ru/v2/forecast/'</code>

Дока яндекса сообщает: 

<code>Url запроса зависит от выбранного тарифа.

Для тарифа:

«Погода на вашем сайте» — https://api.weather.yandex.ru/v2/informers/.
«Тестовый» — https://api.weather.yandex.ru/v2/forecast/.</code>

Если потребуется - просто замените ссылку на ту, что нужна для есплатного тарифа. а может, у вас и так тестовый тариф? Было бы хорошо :)

<h2>Спасибо, что посмотрели мое тестовое и - хорошего вам дня!</h2>





